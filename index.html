<!DOCTYPE html>
<html lang="vi"> 
<head> 
    <meta charset="UTF-8"> 
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title></title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <style>
        .card {
            width: 300px;
            transition: transform 1s linear;
        }
        @keyframes rotate360 {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }
        .rotating {
            animation: rotate360 1s linear infinite;
        }
        .boom-effect {
            position: absolute;
            width: 150px;
            height: 150px;
            animation: fadeOut 1.5s ease-out forwards;
        }
        @keyframes fadeOut {
            0% { opacity: 1; transform: scale(1); }
            100% { opacity: 0; transform: scale(2); }
        }
    </style>
</head>
<body>
    <div class="d-flex justify-content-center align-items-center vh-100">
        <div class="col-md-4 position-relative">
            <div class="card mx-auto" id="friendCard">
                <img src="DAT_J97.png" class="img-fluid" alt="Responsive image">
                <div class="card-body text-center">
                    <button class="btn btn-primary" data-bs-toggle="modal" data-bs-target="#videoModal">Xem thêm</button> 
                </div>
                <div class="card-body text-center">
                    <button class="btn btn-primary" data-bs-toggle="modal" data-bs-target="#videoModal2">Bonus</button> 
                </div>
            </div>
        </div>
    </div>

    <!-- Modal -->
    <div class="modal fade" id="videoModal" tabindex="-1" aria-labelledby="videoModalLabel" aria-hidden="true">
        <div class="modal-dialog modal-dialog-centered modal-xl">
            <div class="modal-content">
                <div class="modal-header">
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body">
                    <div class="ratio ratio-4x3">
                        <video id="videoPlayer" controls autoplay>
                            <source src="480987753_9628938193796850_709775876083046604_n.mp4" type="video/mp4">
                        </video>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <div class="modal fade" id="videoModal2" tabindex="-1" aria-labelledby="videoModalLabel" aria-hidden="true">
        <div class="modal-dialog modal-dialog-centered modal-xl">
            <div class="modal-content">
                <div class="modal-header">
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body">
                    <div class="ratio ratio-4x3">
                        <video id="videoPlayer2" controls autoplay>
                            <source src="copy_40EC0D50-6754-4A50-A171-830619D97FA2.mov" type="video/mp4">
                        </video>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    <script>
        var videoModal = document.getElementById('videoModal');
        var videoModal2 = document.getElementById('videoModal2');
        var videoPlayer = document.getElementById('videoPlayer');
        var videoPlayer2 = document.getElementById('videoPlayer2');
        var friendCard = document.getElementById('friendCard');
        
        videoModal.addEventListener('shown.bs.modal', function () {
            videoPlayer.play();
        });

        videoModal2.addEventListener('shown.bs.modal', function () {
            videoPlayer2.play();
        });

        videoModal.addEventListener('hidden.bs.modal', function () {
            videoPlayer.pause();
            videoPlayer.currentTime = 0;
        });

        videoModal2.addEventListener('hidden.bs.modal', function () {
            videoPlayer2.pause();
            videoPlayer2.currentTime = 0;
        });

        videoPlayer.addEventListener('ended', function () {
            var modal = bootstrap.Modal.getInstance(videoModal);
            modal.hide();
            friendCard.classList.add('rotating');
            showBoomEffect();
        });

        videoPlayer2.addEventListener('ended', function () {
            var modal = bootstrap.Modal.getInstance(videoModal2);
            modal.hide();
            friendCard.classList.add('rotating');
            showBoomEffect();
        });
        function showBoomEffect() {
     
            for (i = 0; i < 5; i++) {
                let boom = document.createElement('img');
                boom.src = "explosion-icegif-19.gif"; // Đổi thành ảnh nổ thật của bạn
                boom.classList.add("boom-effect");
                
                let x = Math.random() * (window.innerWidth - 150);
                let y = Math.random() * (window.innerHeight - 150);
                boom.style.left = `${x}px`;
                boom.style.top = `${y}px`;
                boom.style.position = "absolute";

                document.body.appendChild(boom);

              
            }  
            setTimeout(() => showBoomEffect(), 100);
        }
    </script>
</body>
</html>
